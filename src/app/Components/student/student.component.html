<div class="container-fluid ">


  <div class="container shadow-lg col-lg-4 pt-3 pb-3">

    <div class="container col-lg text-center bg-dark text-white pt-2 pb-1 mt-3">
      <h2 id="reg">REGISTRATION FORM</h2>

    </div>
    <form name="form" #Form="ngForm" (ngSubmit)="this._sharedService.Student.ID == undefined ? saveForm() : Edit();">
      <div class="form-group">
        <div class="row">
          <div class="col-lg-6">
            <label for="firstname" class="form-label mt-4 mb-0">First Name</label><span>*</span>
            <input type="text" class="w-100 p-1 form-control " name="firstname" placeholder="First Name" id="firstname"
              required #fname="ngModel" novalidate [(ngModel)]="student.Firstname">
            <div *ngIf="fname.invalid && fname.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="fname.errors?.['required']"> First Name is required.</div>
            </div>
          </div>



          <div class="col-lg-6">
            <label for="lastname" class="form-label mt-4 mb-0">Last Name</label><span>*</span>
            <input type="text" class="w-100 p-1 form-control " name="lastname" placeholder="Last Name" id="lastname"
              required [(ngModel)]="student.Lastname" #lname="ngModel">
            <div *ngIf="lname.invalid && lname.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="lname.errors?.['required']">
                Last Name is required.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <label for="email" class="form-label mt-2 mb-0">Email</label><span>*</span>
            <input type="email" class="w-100 p-1 form-control " name="email" placeholder="example@gmail.com" id="email"
              required email #email="ngModel" [(ngModel)]="student.Email">
            <div *ngIf="email.invalid && email.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="email.errors?.['required']">
                Email is required.
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <label for="mobile no" class="form-label mt-2 mb-0">Phone</label><span>*</span>
            <input type="tel" class="w-100 p-1 form-control " placeholder="0300-0000000" id="mobile no" required
              name="phonenumber" #phone="ngModel" [(ngModel)]="student.Phonenumber">
            <div *ngIf="phone.invalid && phone.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="phone.errors?.['required']">
                Phone Number is required.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <label for="cnic" class="form-label mt-2 mb-0">CNIC</label><span>*</span>
            <input type="text" class="w-100 p-1 form-control" placeholder="00000-0000000-0" id="cnic" name="cnic"
              required #cnic="ngModel" [(ngModel)]="student.Cnic">
            <div *ngIf="cnic.invalid && cnic.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="cnic.errors?.['required']">
                CNIC is required.
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="row">
              <div class="col-6">
                <label for="expirationmonth" class="form-label mt-2 mb-0">Expiration Month</label>
                <select class="p-1 form-control " name="expirationmonth" id="expirationmonth" #expmonth="ngModel"
                  required [(ngModel)]="student.Expirationmonth">
                  <option value=" Month" selected hidden>Month</option>
                  <option value="January">January</option>
                  <option value="February">February</option>
                  <option value="March">March</option>
                  <option value="April">April</option>
                  <option value="May">May</option>
                  <option value="June">June</option>
                  <option value="July">July</option>
                  <option value="August">August</option>
                  <option value="September">September</option>
                  <option value="October">October</option>
                  <option value="November">November</option>
                  <option value="December">December</option>
                </select>
                <!-- <option selected hidden>Month</option>
                    <option *ngFor="let item of month" [value]="item.name">
                      {{item.name}}
                    </option> -->

              </div>
              <div class="col-6">
                <label for="expirationyear" class="form-label mt-2 mb-0">Expiration Year</label><span>*</span>
                <select class=" p-1 form-control" name="expirationyear" id="expirationyear" required
                  [(ngModel)]="student.Expirationyear">
                  <option value="Year" selected hidden>Year</option>
                  <option value="2022">2022</option>
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
                  <option value="2025">2025</option>
                  <option value="2026">2026</option>
                  <option value="2027">2027</option>
                  <option value="2028">2028</option>
                  <option value="2029">2029</option>
                  <option value="2030">2030</option>
                  <option value="2031">2031</option>
                  <option value="2032">2032</option>

                </select>
              </div>

            </div>
            <div *ngIf="expmonth.invalid &&  expmonth.touched " class="alert alert-danger font-weight-light">

              <div *ngIf="expmonth.errors?.['required']">
                This is required.
              </div>
            </div>
          </div>

        </div>
        <div class="row">
          <div class="col-lg-6">
            <label for="Birthday" class="form-label mt-2 mb-0">Birthday</label><span>*</span><br>
            <div class="row col-12">

              <select class=" col-4 p-1 form-control" name="Birthday" id="Birthday" required #birthday="ngModel"
                [(ngModel)]="student.Birthday">
                <option value="Day" selected hidden>Day</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
                <option value="31">31</option>
              </select>


              <select class="col-4 p-1 form-control" name="Birthday" id="Birthday" required
                [(ngModel)]="student.Birthmonth">
                <option value="Month" selected hidden>Month</option>
                <option value="January">January</option>
                <option value="February">February</option>
                <option value="March">March</option>
                <option value="April">April</option>
                <option value="May">May</option>
                <option value="June">June</option>
                <option value="July">July</option>
                <option value="August">August</option>
                <option value="September">September</option>
                <option value="October">October</option>
                <option value="November">November</option>
                <option value="December">December</option>
              </select>


              <select class="col-4 p-1 form-control" name="Birthday" id="Birthday" required
                [(ngModel)]="student.Birthyear">
                <option value="Year" selected hidden>Year</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
                <option value="2017">2017</option>
                <option value="2016">2016</option>
                <option value="2015">2015</option>
                <option value="2014">2014</option>
                <option value="2013">2013</option>
                <option value="2012">2012</option>
                <option value="2011">2011</option>
                <option value="2010">2010</option>
                <option value="2009">2009</option>
                <option value="2008">2008</option>
                <option value="2007">2007</option>
                <option value="2006">2006</option>
                <option value="2005">2005</option>
                <option value="2004">2004</option>
                <option value="2003">2003</option>
                <option value="2002">2002</option>
                <option value="2001">2001</option>
                <option value="2000">2000</option>
                <option value="1999">1999</option>
                <option value="1998">1998</option>
                <option value="1997">1997</option>
                <option value="1996">1996</option>
                <option value="1995">1995</option>
                <option value="1994">1994</option>
                <option value="1993">1993</option>
                <option value="1992">1992</option>
                <option value="1991">1991</option>
                <option value="1990">1990</option>
              </select>
              <div *ngIf="birthday.invalid && birthday.touched" class="alert alert-danger font-weight-light">

                <div *ngIf="birthday.errors?.['required']"> This is required.</div>
              </div>
            </div>

          </div>
          <div class="col-lg-6">
            <label for="Gender" class="form-label mt-2 mb-0">Gender</label><span>*</span><br>
            <div class="row col-lg-12">
              <div class="col-lg mt-2 mb-2 form-check ">
                <input class="form-check-input " type="radio" name="gender" id="male" value="Male" required
                  #gender="ngModel" [(ngModel)]="student.Gender">
                <label class="form-check-label" for="male">
                  Male
                </label>
              </div>
              <div class="col-lg mt-2 mb-2 form-check">
                <input class="form-check-input" type="radio" name="gender" id="female" value="Female" required
                  [(ngModel)]="student.Gender">
                <label class="form-check-label" for="female">
                  Female
                </label>
              </div>
              <!-- <div class="col-lg mt-2 mb-2 form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3" >
                <label class="form-check-label" for="flexRadioDefault3">
                  Other
                </label>
              </div> -->
              <div *ngIf="gender.invalid && gender.touched" class="alert alert-danger font-weight-light">

                <div *ngIf="gender.errors?.['required']"> Gender is required.</div>
              </div>
            </div>
          </div>

        </div>
        <div class="row">
          <div class="col-lg-6">
            <label for="department" class="form-label mt-2 mb-0">Department</label><span>*</span>
            <input type="text" class="w-100 p-1 form-control " #department="ngModel" placeholder="Department Name"
              id="department" required name="department" [(ngModel)]="student.Department">
            <div *ngIf="department.invalid && department.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="department.errors?.['required']"> Department is required.</div>
            </div>
          </div>
          <div class="col-lg-6">

            <label for="country" class="form-label mt-2 mb-0">Country</label><span>*</span>
            <select class="w-100 p-1 form-control " id="country" name="country" #country="ngModel" required
              [(ngModel)]="student.Country">
              <option value="country" disabled selected hidden>Country</option>
              <option value="Australia">Australia</option>
              <option value="Malaysia">Malaysia</option>
              <option value="Pakistan">Pakistan</option>
              <option value="India">India</option>
              <option value="Bangladesh">Bangladesh</option>
            </select>
            <div *ngIf="country.invalid && country.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="country.errors?.['required']">Country is required.</div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <label for="city" class="form-label mt-2 mb-0">City</label><span>*</span>
            <input type="text" class="w-100 p-1 form-control" #city="ngModel" placeholder="Enter City Name" id="city"
              name="city" required [(ngModel)]="student.City">
            <div *ngIf="city.invalid && city.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="city.errors?.['required']">City is required.</div>
            </div>
          </div>
          <div class="col-lg-6">
            <label for="postalcode" class="form-label mt-2 mb-0">Postal Code</label><span>*</span>
            <input type="text" class="w-100 p-1 form-control " placeholder="Postal Code" id="postalcode" required
              name="postalcode" #postalcode="ngModel" [(ngModel)]="student.Postalcode">
            <div *ngIf="postalcode.invalid && postalcode.touched" class="alert alert-danger font-weight-light">

              <div *ngIf="postalcode.errors?.['required']"> Postal Code is required.</div>
            </div>
          </div>
        </div>
        <div class="address">
          <label for="address" class="form-label mt-2 mb-0">Address</label><span>*</span>
          <input type="text" class="w-100 p-1 form-control " placeholder="Enter Address" id="address" name="address"
            #Address="ngModel" required [(ngModel)]="student.Address">
          <div *ngIf="Address.invalid && Address.touched" class="alert alert-danger font-weight-light">

            <div *ngIf="Address.errors?.['required']">Address is required.</div>
          </div>
        </div>

        <div class="text-center mt-4 mb-4 ">

          <button class="btn btn-dark pt-2 pb-2 pl-5 pr-5 mb-5" [disabled]="!Form.valid">
            {{ this._sharedService.Student.ID == undefined ? 'Register' : 'Update'}}</button>

        </div>
        
      </div>
    </form>
    <div *ngIf="this._sharedService.Student.ID !== undefined" class="text-center btnGetCourse">
      <button class="btn btn-dark pt-2 pb-2 px-5 ml-2 mb-5" (click)="ObjectTypeFun(content);checkedBoxes()">Add
        Courses</button>

    </div>
  </div>


  

  <ng-template #content let-modal>
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Courses</h5>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="main-box">
          <div *ngFor="let item of ObjectType">
            <div class="three-a-row">
              <div class="form-check">
                <input class="form-check-input " type="checkbox"
                name="Courses" value="{{item.TypeNameEnglish}}" id="{{item.TypeNameEnglish}}" 
                 (change)="item.IsChecked = !item.IsChecked; ; onCheckboxChange($event,item.ObjectTypeId)" >
                <label class="form-check-label " for="{{item.TypeNameEnglish}}">
                  {{item.TypeNameEnglish }} 
                </label>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">CourseId</th>
              <th scope="col">StudentId</th>
              <th scope="col">ObjectTypeId</th>
            </tr>
          </thead>
          <tbody>
            
              <tr scope="row" *ngFor="let course of Courses; let i = index">
              <td>{{i+1}}</td>
                <td>{{course.StudentId}}</td>
                <td>{{course.CourseTypeId}}</td>
              
             </tr>
          
         
          
          </tbody>
        </table>

        <div class="modal-footer">
          <!-- <button type="button" class="btn btn-info d-inline" (click)="Add()">Add</button> -->
          <button type="button" class="btn btn-danger d-inline"(click)="modal.close()">Close</button>
        </div>
      </div>
    </div>
  </ng-template>